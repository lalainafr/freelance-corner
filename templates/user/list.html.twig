{% extends 'base1.html.twig' %}

{% block title %}
	Liste des utilisateurs
{% endblock %}

{% block body %}
	<section>
		<h1 class="text-primary text-center">
			- LISTE DES UTILISATEURS-
		</h1>
		<br>
		<div class="row justify-content-center">
			<div class="col-md-10">
				<a href="{{path('user_new')}}">
					Ajouter une utilisateur
				</a>
				<table class="table">
					<thead>
						<tr>
							<th scope="col">#</th>
							<th scope="col">Nom & pr√©nom
							</th>
							<th scope="col">Email
							</th>
							<th scope="col">Telephone
							</th>
							<th scope="col" style="width:10%;">Mot de passe
							</th>
							<th scope="col">Roles
							</th>
							{% if app.user and 'ROLE_ADMIN' in app.user.roles %}
								<th scope="col" style="width:10%;">Action
								</th>
							{% endif %}
						</tr>
					</thead>
					<tbody>
						{% for user in users %}
							<tr>
								<td>{{user.id}}</td>
								<td>{{user.fullname}}</td>
								<td>{{user.email}}</td>
								<td>{{user.phone}}</td>
								<td>{{user.password}}</td>
								<td>
									{% for role in user.roles %}
										{{role}}
									{% endfor %}
								</td>
								{% if app.user and 'ROLE_ADMIN' in app.user.roles %}
									<td>
										<a href="{{path('user_edit', {id: user.id})}}">edit</a>
										&nbsp
										<a href="{{path('user_delete', {id: user.id})}}">delete</a>
										&nbsp
									</td>
								{% endif %}
							</tr>
						</tbody>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>

</div></section>{% endblock %}
